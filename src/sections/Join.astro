---
import HomeSection from "./HomeSection.astro";
import { getAllEntriesOfContentType } from "../services/contentful";

const joinActions = await getAllEntriesOfContentType('getInvolvedSection');
---

<HomeSection id="get-involved" title="Get Involved">
  <div class="flex flex-col md:flex-row md:justify-center">
    {joinActions.map((action) => {
      const { heading, text, path, image } = action.fields;
      return (
        <a class="block relative text-white z-10 h-52 lg:h-72 aspect-square mx-5 my-5 mb-0 md:my-0" href={path} target="_blank">
          <img src={"https:" + image.fields.file.url} class="absolute top-0 left-0 h-full w-full z-0 brightness-50 rounded shadow object-cover" />
          <div class="absolute top-0 bottom-0 left-0 right-0 z-1 p-5 flex flex-col justify-center text-center hover:scale-[1.07] transition-all">
            <h1 class="text-2xl font-bold pb-4">{heading}</h1>
            <p>{text}</p>
          </div>
        </a>
      );
      })}
  </div>
</HomeSection>